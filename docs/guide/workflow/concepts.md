# 概念说明

## 工作流是什么？

`工作流` 也叫自动回复流程，用于设定给用户发送的消息。工作流由一个个节点按顺序、条件组合而成的一个消息流程，当用户触发工作流对应的条件后，就会根据工作流给用户发送信息。

## 触发器、节点、组件分别是指什么？

* `触发器` 是工作流的触发条件，例如当用户在帖文下评论时，会触发评论成长工具的工作流,所以评论成长工具就是这个工作流的触发器。触发器可以是成长工具、提问按钮、主菜单、另一个工作流。在工作流中，流程的开端，第一个节点就是触发器。其颜色为绿色，并且节点标题中有一个 `播放` 的图标。

* `节点` 是工作流的重要组成部分。之所以能用工作流实现各种场景下发送各种信息，就是因为组合了不同功能的节点。比如我们想要设置给 8:00～10:00 进来的用户发送消息，「早上好」，可以使用条件节点限制时间段，符合条件再使用消息节点发送信息。

* `组件` 是指支持不同消息类型的套件，比如 `文本` 是 「文字 + 普通按钮」，`图片` 是 「图片 + 普通按钮」，`快速回复` 是 「悬浮按钮」。一个组件是一条消息,各种组件之间可以灵活组合

## 触发器、节点、组件之间的关系？

由各种组件组合构成了消息节点，由各种 「节点 + 触发器」 组合构成了工作流

## 什么是消息节点，什么是非消息（功能）节点？

* `消息节点` 指的是包含各种组件，能给线索发送信息的节点，蓝色外框。（注意如果是评论成长工具对应的工作流的第一个消息节点，左上角还有有一个聊天气泡的图标）

* `功能节点` 指的是不能给用户发送信息，但是会在后台执行特定逻辑的节点，如条件过滤，打标签。在系统中目前功能节点有条件节点、执行节点、随机节点、运行 Flow 节点、延迟节点

## 工作流的执行顺序

从触发器开始，先走触发器后连接的第一个节点，然后依次走节点「下一步」连接的节点，以此类推，直至没有「下一步」为止。（随机节点和条件节点比较特殊，没有默认下一步，只能在触发时才能判断出走哪条分支）

## 工作流为什么要分预览和编辑两个页面

两个页面分别对应了两种版本。预览对应发布版本，编辑对应草稿版本。因为工作流的设置和改动不是一下子就能完成的，我们也不希望未改动完的流程被发送给用户，只有设置彻底完成的版本才应该被发送，而这个版本就叫发布版本。相对的，未设置完成的是草稿版本。

了解了原因后，再看看两个页面的不同。在预览页面中不可编辑，只能查看。你可以看到节点的统计数据，如发送次数、点击次数、按钮的点击比例等。而编辑页面可以修改工作流，但看不到统计数据
